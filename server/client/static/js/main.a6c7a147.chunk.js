(this.webpackJsonpfast_company=this.webpackJsonpfast_company||[]).push([[0],{24:function(e){e.exports=JSON.parse('{"apiEndPoint":"http://localhost:8080/api","isFireBase":false}')},55:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(20),c=n.n(s),i=(n(55),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),o=(n(56),n(3)),u=n(8),l=n(4),d=n.n(l),j=n(6),b=n(5),m=n(16),f=n(28),p=n.n(f),O="jwt_token",h="jwt_refresh_token",v="jwt_expires",x="user-local-id",g={setToken:function(e){var t=e.refreshToken,n=e.accessToken,r=e.userId,a=e.expiresIn,s=void 0===a?3600:a,c=(new Date).getTime()+1e3*s;localStorage.setItem(O,n),localStorage.setItem(x,r),localStorage.setItem(h,t),localStorage.setItem(v,c)},getAccessToken:function(){return localStorage.getItem(O)},getRefreshToken:function(){return localStorage.getItem(h)},getExpiresIn:function(){return localStorage.getItem(v)},getUserId:function(){return localStorage.getItem(x)},removeAuthData:function(){localStorage.removeItem(x),localStorage.removeItem(v),localStorage.removeItem(O),localStorage.removeItem(h)}},y=n(24),N=p.a.create({baseURL:y.apiEndPoint+"/auth",params:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_KEY}}),k={register:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/signUp",Object(b.a)({},t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,N.post("/signInWithPassword",{email:n,password:r,returnSecureToken:!0});case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),refresh:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/token",{grant_type:"refresh_token",refresh_token:g.getRefreshToken()});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},w=n(23),S=p.a.create({baseURL:y.apiEndPoint});S.interceptors.request.use(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,s,c,i,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.getExpiresIn(),r=g.getRefreshToken(),a=r&&n<Date.now(),!y.isFireBase){e.next=15;break}if(s=/\/$/gi.test(t.url),t.url=(s?t.url.slice(0,-1):t.url)+".json",!a){e.next=11;break}return e.next=9,k.refresh();case 9:c=e.sent,g.setToken({refreshToken:c.refresh_token,idToken:c.id_token,localId:c.user_id,expiresIn:c.expires_in});case 11:(i=g.getAccessToken())&&(t.params=Object(b.a)(Object(b.a)({},t.params),{},{auth:i})),e.next=22;break;case 15:if(!a){e.next=20;break}return e.next=18,k.refresh();case 18:o=e.sent,g.setToken(o);case 20:(u=g.getAccessToken())&&(t.headers=Object(b.a)(Object(b.a)({},t.headers),{},{Authorization:"Bearer ".concat(u)}));case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),S.interceptors.response.use((function(e){var t;return y.isFireBase&&(e.data={content:(t=e.data,t&&!t._id?Object.keys(t).map((function(e){return Object(b.a)({},t[e])})):t)}),e.data={content:e.data},e}),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||w.b.info("Something went wrong. Please try again later"),Promise.reject(e)}));var C={get:S.get,post:S.post,put:S.put,delete:S.delete,patch:S.patch},q="user/",_={get:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(q);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put(q+t._id,t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUser:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(q+g.getUserId());case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateUser:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.patch(q+g.getUserId(),Object(b.a)({},t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L="/",I="/login",R="/logout",F="/users",E=n(11),H=Object(E.a)();function P(e){switch(e){case"INVALID_PASSWORD":case"EMAIL_NOT_FOUND":return"Email and password are incorrect";case"EMAIL_EXISTS":return"Email already exists";default:return"To many attempts"}}var T=g.getAccessToken()?{entities:null,isLoading:!0,error:null,auth:{userId:g.getUserId()},isLoggedIn:!0,dataLoaded:!1}:{entities:null,isLoading:!1,error:null,auth:null,isLoggedIn:!1,dataLoaded:!1},D=Object(m.c)({name:"users",initialState:T,reducers:{usersRequested:function(e){e.isLoading=!0},usersRecieved:function(e,t){e.entities=t.payload,e.dataLoaded=!0,e.isLoading=!1},userRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},authRequested:function(e){e.error=null},authRequestSuccess:function(e,t){e.auth=Object(b.a)({},t.payload),e.isLoggedIn=!0,e.isLoading=!1},authRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},userCreated:function(e,t){e.entities.push(t.payload)},userLoggedOut:function(e){e.entities=null,e.isLoggedIn=!1,e.auth=null,e.dataLoaded=!1},updateUserRequested:function(e){e.isLoading=!0},userUpdatedSuccess:function(e,t){e.entities=e.entities.map((function(e){return e._id===t.payload._id?Object(b.a)({},t.payload):e})),e.isLoading=!1}}}),A=D.actions,B=D.reducer,U=A.usersRequested,M=A.usersRecieved,V=A.userRequestFailed,W=A.authRequestSuccess,z=A.authRequestFailed,Y=A.userLoggedOut,K=A.updateUserRequested,J=A.userUpdatedSuccess,$=A.authRequested,Q=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(U()),e.prev=1,e.next=4,_.get();case 4:n=e.sent,r=n.content,t(M(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(V(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(K()),t.prev=1,t.next=4,_.updateUser(e);case 4:r=t.sent,a=r.content,n(J(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(z(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(t){if(t.users.entities)return t.users.entities.find((function(t){return t._id===e}))}},G=B,ee=n(0),te=function(){return Object(ee.jsx)("div",{className:"d-flex vh-100 align-items-center justify-content-center",children:Object(ee.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(ee.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},ne=function(e){var t=e.children,n=Object(o.b)(),a=Object(o.c)((function(e){return e.users.dataLoaded}));return Object(r.useEffect)((function(){a||n(Q())}),[]),a?t:Object(ee.jsx)(te,{})},re=n(50),ae=n(7),se=n(18),ce=n.n(se),ie=function(e){var t=e.pageSize,n=e.itemsCount,r=e.onPageChange,a=e.currentPage,s=Math.ceil(n/t),c=ce.a.range(1,s+1);return 1===s?null:Object(ee.jsx)("nav",{"aria-label":"Page navigation example",className:"d-flex justify-content-center w-100",children:Object(ee.jsx)("ul",{className:"pagination m-0",children:c.map((function(e){return Object(ee.jsx)("li",{className:"page-item "+(e===a?"active":""),children:Object(ee.jsx)("button",{type:"button",className:"page-link",onClick:function(){r(e)},children:e})},e)}))})})};var oe=n(31),ue=function(e){var t=e.toggleBookMarkHanble,n=e.id,r=e.status;return Object(ee.jsx)("button",{className:"btn btn-lg  ",onClick:function(){t(n)},children:Object(ee.jsx)("i",{className:r?"bi bi-bookmark-fill":"bi bi-bookmark"})})},le=function(e){var t=e.name,n=e.color;return Object(ee.jsx)("span",{style:{margin:"3px 3px",fontSize:"14px"},className:"badge bg-".concat(n),children:t})},de={get:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/quality");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},je=function(e){return Date.now()-e>6e5},be=Object(m.c)({name:"qualities",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{qualitiesRequested:function(e){e.isLoading=!0},qualitiesRecieved:function(e,t){e.entities=t.payload,e.lastFetch=Date.now(),e.isLoading=!1},qualitiesRequestFailure:function(e,t){e.isLoading=!1}}}),me=be.actions,fe=be.reducer,pe=me.qualitiesRequested,Oe=me.qualitiesRecieved,he=me.qualitiesRequestFailure,ve=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().qualities.lastFetch,!je(r)){e.next=14;break}return t(pe()),e.prev=3,e.next=6,de.get();case 6:a=e.sent,s=a.content,t(Oe(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t(he(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},xe=fe,ge=function(e){var t,n=e.qualities,a=Object(o.b)(),s=Object(o.c)((function(e){return e.qualities.isLoading})),c=Object(o.c)((t=n,function(e){return e.qualities.entities?e.qualities.entities.filter((function(e){return t.includes(e._id)})):[]}));return Object(r.useEffect)((function(){a(ve())}),[]),s?Object(ee.jsx)(te,{}):Object(ee.jsx)(ee.Fragment,{children:c.map((function(e){return Object(ee.jsx)(le,Object(b.a)({},e),e._id)}))})},ye=a.a.memo(ge),Ne=ye,ke=function(e){var t=e.currentSort,n=e.setSortBy,a=e.columns,s=function(e,t){return e.iter===t?"asc"===e.order?Object(ee.jsx)("i",{className:"bi bi-caret-down-fill"}):Object(ee.jsx)("i",{className:"bi bi-caret-up-fill"}):null};return Object(ee.jsx)("thead",{className:"border-bottom border-dark",children:Object(ee.jsx)("tr",{children:Object.keys(a).map((function(e){return Object(r.createElement)("th",{onClick:a[e].iter?function(){return r=a[e].iter,void(t.iter===r?n(Object(b.a)(Object(b.a)({},t),{},{order:"asc"===t.order?"desc":"asc"})):n({iter:r,order:"asc"}));var r}:void 0,role:a[e].iter&&"button",scope:"col",className:"text-start align-middle ",key:e},Object(ee.jsxs)("div",{className:"justify-content-center d-flex",children:[a[e].name," ",s(t,a[e].iter)]}))}))})})},we=n(9),Se=function(e){var t=e.users,n=e.columns,r=function(e,t){if(n[t].component){var r=n[t].component;return"function"===typeof r?r(e):r}return"name"===n[t].iter?Object(ee.jsx)(we.a,{to:"".concat(F,"/").concat(e._id),children:e.name}):ce.a.get(e,n[t].iter)};return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("tbody",{children:t.map((function(e){return Object(ee.jsx)("tr",{children:Object.keys(n).map((function(t){return Object(ee.jsx)("td",{children:r(e,t)},t)}))},e._id)}))})})},Ce=function(e){var t=e.users,n=e.currentSort,r=e.setSortBy,a=e.columns,s=e.children;return Object(ee.jsx)("table",{className:"table",children:s||Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(ke,{currentSort:n,setSortBy:r,columns:a}),Object(ee.jsx)(Se,{columns:a,users:t})]})})},qe={get:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("profession/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},_e=Object(m.c)({name:"professions",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{professionsRequested:function(e){e.isLoading=!0},professionsRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},professionsRecieved:function(e,t){e.entities=t.payload,e.lastFetch=Date.now(),e.isLoading=!1}}}),Le=_e.actions,Ie=_e.reducer,Re=Le.professionsRequested,Fe=Le.professionsRequestFailed,Ee=Le.professionsRecieved,He=Ie;var Pe=function(e){var t,n=e.id,r=Object(o.c)((t=n,function(e){if(e.professions.entities)return e.professions.entities.find((function(e){return e._id===t}))}));return Object(ee.jsx)("div",{children:r&&r.name})},Te=["users","currentSort","setSortBy","toggleBookMarkHanble"],De=function(e){var t=e.users,n=e.currentSort,r=e.setSortBy,a=e.toggleBookMarkHanble,s=(Object(oe.a)(e,Te),{name:{iter:"name",name:"\u0418\u043c\u044f"},qualities:{name:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e",component:function(e){return Object(ee.jsx)(Ne,{qualities:e.qualities})}},professions:{iter:"profession",name:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",component:function(e){return Object(ee.jsx)(Pe,{id:e.profession})}},completedMeetings:{iter:"completedMeetings",name:"\u0412\u0441\u0442\u0440\u0435\u0442\u0438\u043b\u0441\u044f \u0440\u0430\u0437"},rate:{iter:"rate",name:"\u041e\u0446\u0435\u043d\u043a\u0430"},bookmark:{iter:"status",name:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",component:function(e){return Object(ee.jsx)(ue,{toggleBookMarkHanble:a,id:e._id,status:e.status})}}});return Object(ee.jsxs)(Ce,{currentSort:n,setSortBy:r,columns:s,users:t,children:[Object(ee.jsx)(ke,{currentSort:n,setSortBy:r,columns:s}),Object(ee.jsx)(Se,{columns:s,users:t})]})},Ae=function(e){var t=Number(e.toString().split("").slice(-1));return 0===e?"\u041d\u0435\u0442 \u043d\u0438\u043a\u043e\u0433\u043e \u0441 \u043a\u0435\u043c \u043c\u043e\u0436\u043d\u043e \u0442\u0443\u0441\u0430\u043d\u0443\u0442\u044c":1===e?"".concat(e," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0442\u0443\u0441\u0430\u043de\u0442 \u0441 \u0442\u043e\u0431\u043e\u0439"):e>1&&e<5||e>14&&[2,3,4].includes(t)?"".concat(e," \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u0442\u0443\u0441\u0430\u043d\u0443\u0442 \u0441 \u0442\u043e\u0431\u043e\u0439"):e>14&&[1].includes(t)?"".concat(e," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0442\u0443\u0441\u0430\u043de\u0442 \u0441 \u0442\u043e\u0431\u043e\u0439"):"".concat(e," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0442\u0443\u0441\u0430\u043dy\u0442 \u0441 \u0442\u043e\u0431\u043e\u0439")},Be=function(e){var t=new Date(e),n=new Date;if(0===n.getFullYear()-t.getFullYear()){if(0===n.getDay()-t.getDay()){if(0===n.getHours()-t.getHours()){var r=n.getMinutes()-t.getMinutes();return r>=0&&r<5?"1 \u043c\u0438\u043d\u0443\u0442\u0443 \u043d\u0430\u0437\u0430\u0434":r>=5&&r<10?"5 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434":r>=10&&r<30?"10 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434":"30 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434"}return"".concat(t.getHours()," : ").concat(t.getMinutes())}return"".concat(t.getDay()," ").concat(t.toLocaleString("default",{month:"long"}))}return t.getFullYear()+"."+(t.getMonth()+1)+"_"+t.getDate()},Ue=function(e){var t,n=e.userLength;return Object(ee.jsx)("div",{className:"d-flex justify-content-center ",children:Object(ee.jsx)("span",{style:{fontSize:"20px",margin:"20px"},className:(t=n,0===t?"badge bg-danger":"badge bg-primary"),children:Ae(n)})})},Me=function(e){var t=e.professions,n=e.onItemSelect,r=e.valueProperty,a=e.contentProperty,s=e.selectedProf,c=e.resetProfessionsHandler;return Object(ee.jsxs)("div",{className:"d-flex flex-column flex-shrink-0",children:[Object(ee.jsxs)("ul",{className:"list-group mt-2",children:[!Array.isArray(t)&&Object.keys(t).map((function(e){return Object(ee.jsx)("li",{onClick:function(){n(t[e])},className:s===t[e]?"list-group-item active":"list-group-item ",role:"button",children:t[e][a]},t[e][r])})),t.map((function(e){return Object(ee.jsx)("li",{onClick:function(){n(e)},className:s===e?"list-group-item active":"list-group-item ",role:"button",children:e[a]},e[r])}))]}),Object(ee.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(ee.jsx)("button",{className:"btn btn-outline-primary mt-2 ",onClick:c,children:"Reset"})})]})};Me.defaultProps={valueProperty:"_id",contentProperty:"name"};var Ve=Me;var We=function(e){var t=e.searchValue,n=e.getSearchValueHandler;return Object(ee.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...",value:t,onChange:n})},ze=function(){var e=Object(r.useState)(1),t=Object(ae.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)({iter:"name",order:"asc"}),c=Object(ae.a)(s,2),i=c[0],u=c[1],l=Object(r.useState)(),d=Object(ae.a)(l,2),j=d[0],b=d[1],m=Object(r.useState)(""),f=Object(ae.a)(m,2),p=f[0],O=f[1],h=Object(o.c)((function(e){return e.users.entities})),v=Object(o.c)((function(e){return e.users.auth.userId})),x=Object(o.c)((function(e){return e.professions.entities})),g=Object(o.c)((function(e){return e.professions.isLoading}));Object(r.useEffect)((function(){a(1)}),[j]);var y=function(e){var t=e;return j?t=e.filter((function(e){return e.profession===j._id})):p&&(t=e.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())}))),t.filter((function(e){return e._id!==v}))}(h),N=ce.a.orderBy(y,[i.iter],[i.order]),k=N.length,w=function(e,t,n){var r=(t-1)*n;return ce()(e).slice(r).take(n).value()}(N,n,3);return g?Object(ee.jsx)(te,{}):Object(ee.jsx)("div",{className:"container shadow mt-4",children:Object(ee.jsxs)("div",{className:"row mb-4",children:[Object(ee.jsx)(Ue,{userLength:k}),Object(ee.jsx)("div",{className:"col-md-2 mb-3",children:Object(ee.jsx)(Ve,{professions:x,onItemSelect:function(e){O(""),b(e)},selectedProf:j,resetProfessionsHandler:function(){O(""),b()}})}),Object(ee.jsxs)("div",{className:"col-md-10",children:[Object(ee.jsx)(We,{searchValue:p,getSearchValueHandler:function(e){b(),O(e.target.value)}}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(De,{users:w,setSortBy:u,currentSort:i,toggleBookMarkHanble:function(e){Object(re.a)(h).filter((function(t){return t._id===e?(t.status=!t.status,t):t}))}}),Object(ee.jsx)("div",{className:"mb-3",children:Object(ee.jsx)(ie,{itemsCount:k,pageSize:3,onPageChange:function(e){a(e)},currentPage:n})})]})]})]})})},Ye=n(17),Ke=n(49);var Je=function(e){var t=e.options,n=e.name,r=e.onChangeHandle,a=e.label,s=e.defaultValue,c=e.error,i=Array.isArray(t)||"object"!==typeof t?t:Object.keys(t).map((function(e){return{value:t[e]._id,label:t[e].name}}));return Object(ee.jsxs)("div",{className:"mb-4",children:[Object(ee.jsx)("label",{className:"form-label me-3",children:a}),Object(ee.jsx)(Ke.a,{closeMenuOnSelect:!0,isMulti:!0,name:n,options:i,classNamePrefix:"select",onChange:function(e){r({name:n,value:e})},defaultValue:s,className:"".concat(c?"is-invalid":""," ")}),c&&Object(ee.jsx)("div",{className:"invalid-feedback",children:c})]})};var $e=function(e){var t=e.options,n=e.name,r=e.onChangeHandle,a=e.value,s=e.label,c=void 0===s?"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u043f\u043e\u043b":s,i=function(e){var t=e.target;r({name:t.name,value:t.value})};return Object(ee.jsxs)("div",{className:"mt-3 mb-3",children:[Object(ee.jsx)("label",{className:"form-label me-3",children:c}),Object(ee.jsx)("div",{children:t&&t.map((function(e,t){return Object(ee.jsxs)("div",{className:"form-check form-check-inline",children:[Object(ee.jsx)("input",{className:"form-check-input",type:"radio",name:n,id:e.name+"_"+e.value,value:e.value,checked:e.value===a,onChange:i}),Object(ee.jsx)("label",{className:"form-check-label",htmlFor:e.name+"_"+e.value,children:e.name})]},t)}))})]})};function Qe(e){var t=e.defaultOption,n=e.onChangeHandle,r=e.options,a=e.label,s=e.value,c=e.error,i=e.name,o=e.loading,u=Array.isArray(r)||"object"!==typeof r?r:Object.keys(r).map((function(e){return{name:e,value:r[e]._id,key:r[e]._id}}));return"object"===typeof s&&(s=s._id),o?Object(ee.jsx)(te,{}):Object(ee.jsxs)("div",{className:"d-flex flex-column mt-3",children:[Object(ee.jsx)("label",{htmlFor:"validationCustom04",className:"form-label",children:a}),Object(ee.jsxs)("select",{className:"".concat(c?"form-select is-invalid":"form-select"," "),id:"validationCustom04",value:s,onChange:function(e){var t=e.target;n({name:t.name,value:t.value})},name:i,children:[Object(ee.jsx)("option",{disabled:!0,value:"",children:t}),u&&u.map((function(e){return Object(ee.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),c&&Object(ee.jsx)("div",{className:"invalid-feedback",children:c})]})}Qe.defaultOption={error:"Please select something"};var Xe=Qe;function Ze(e){var t=e.label,n=e.name,a=e.onChangeHandle,s=e.value,c=e.type,i=e.error,o=Object(r.useState)(!1),u=Object(ae.a)(o,2),l=u[0],d=u[1];return Object(ee.jsxs)("div",{className:"d-flex flex-column mt-3",children:[Object(ee.jsx)("label",{htmlFor:n,className:"mb-2",children:t}),Object(ee.jsxs)("div",{className:"input-group has-validation",children:[Object(ee.jsx)("input",{type:l?"text":c,id:n,value:s,name:n,onChange:function(e){var t=e.target;a({name:t.name,value:t.value})},className:"".concat(i?"form-control is-invalid":"form-control"," ")}),"password"===c&&Object(ee.jsx)("span",{className:"btn btn-outline-secondary ",type:"button",onClick:function(){d((function(e){return!e}))},children:Object(ee.jsx)("i",{className:l?"bi bi-eye":"bi bi-eye-slash"})}),i&&Object(ee.jsx)("div",{className:"invalid-feedback text-danger",children:i})]})]})}Ze.defaultProps={type:"text"};var Ge=Ze,et={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isEmail:{message:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0433\u043e email"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isCapitalLetter:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0437\u0430\u0433\u043b\u0430\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443"},isNumber:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u044b\u0444\u0440\u0443"},min:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:8}},profession:{isRequired:{message:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u043a \u0432\u044b\u0431\u043e\u0440\u0443"}},licence:{isRequired:{message:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0448 \u0441\u0435\u0440\u0432\u0438\u0441 \u0431\u0435\u0437 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438"}},name:{isRequired:{message:"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},qualities:{isRequired:{message:"\u0412\u044b\u0431\u0438\u0440\u0435\u0442\u0435 \u0445\u043e\u0442\u044f \u0431 \u043e\u0434\u043d\u043e \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e"}},content:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}}},tt=function(e,t){var n={};function r(e,t,n){var r;switch(e){case"isRequired":try{r="boolean"===typeof t?!t:"object"===typeof t?0===Object.keys(t).length:Array.isArray(t)?0===t.length:""===t.trim()}catch(c){console.log(c.message)}break;case"isEmail":r=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalLetter":r=!/[A-Z]+/g.test(t);break;case"isNumber":r=!/\d+/g.test(t);break;case"min":r=t.length<n.value;break;case"isCorrectDate":r=Number(t.split("-")[0])>(new Date).getFullYear();break;case"isValidLink":r=!/^\S+:\/\/\S+\.\S+/g.test(t)}if(r)return n.message}for(var a in e)for(var s in t[a]){var c=r(s,e[a],t[a][s]);c&&!n[a]&&(n[a]=c)}return n};var nt=function(){var e=Object(o.b)(),t=Object(u.g)(),n=Object(o.c)((function(e){return e.users.isLoading})),a=Object(o.c)((function(e){return e.users.entities?e.users.entities.find((function(t){return t._id===e.users.auth.userId})):null})),s=Object(o.c)((function(e){return e.qualities.entities})),c=Object(o.c)((function(e){return e.qualities.isLoading})),i=Object(o.c)((function(e){return e.professions.entities})),l=Object(o.c)((function(e){return e.professions.isLoading})),m=Object(r.useState)({}),f=Object(ae.a)(m,2),p=f[0],O=f[1],h=Object(r.useState)(),v=Object(ae.a)(h,2),x=v[0],g=v[1],y=Object(r.useState)(!0),N=Object(ae.a)(y,2),k=N[0],w=N[1];Object(r.useEffect)((function(){n||c||l||!a||x||g(Object(b.a)(Object(b.a)({},a),{},{qualities:S(a.qualities),profession:C(a.profession)}))}),[c,l,a,x,n]),Object(r.useEffect)((function(){x&&k&&w(!1)}),[x,k]);var S=function(e){return s.filter((function(t){return e.includes(t._id)})).map((function(e){return{value:e._id,label:e.name}}))},C=function(e){return i.find((function(t){return t._id===e}))},q=s.map((function(e){return{value:e._id,label:e.name}})),_=function(e){g((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(Ye.a)({},e.name,"profession"===e.name?i.find((function(t){return t._id===e.value})):e.value))}))},L=function(){var n=Object(j.a)(d.a.mark((function n(r){var s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r.preventDefault(),I()){n.next=5;break}return n.abrupt("return");case 5:s=Object(b.a)(Object(b.a)({},x),{},{profession:x.profession._id,qualities:x.qualities.map((function(e){return e.value}))}),e(X(s)),t.push("/users/"+a._id),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),I=function(){var e=tt(x,et);return O(e),0===Object.keys(e).length};Object(r.useEffect)((function(){return I(),function(){}}),[x]);var R=0===Object.keys(p).length;return k?Object(ee.jsx)(te,{}):Object(ee.jsx)("div",{className:"container ",children:Object(ee.jsxs)("div",{className:"row d-flex justify-content-start m-4",children:[Object(ee.jsx)("div",{className:"col-md-2",children:Object(ee.jsxs)("button",{className:"btn btn-primary",onClick:function(){return t.goBack()},children:[Object(ee.jsx)("i",{className:"bi bi-arrow-left"}),Object(ee.jsx)("span",{children:"\u041d\u0430\u0437\u0430\u0434"})]})}),Object(ee.jsx)("div",{className:"col-md-6 text-start p-4 shadow\r ",children:Object(ee.jsxs)("form",{onSubmit:L,className:"d-flex flex-column needs-validation",children:[Object(ee.jsx)("h3",{className:"mb-4",children:"Edit"}),Object(ee.jsx)(Ge,{name:"name",value:x.name,onChangeHandle:_,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",error:p.name}),Object(ee.jsx)(Ge,{name:"email",value:x.email,onChangeHandle:_,label:"\u0412\u0430\u0448\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",type:"email",error:p.email}),Object(ee.jsx)(Xe,{onChangeHandle:_,options:i,label:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e",value:x.profession,defaultOption:x.profession.name,name:"profession",error:p.profession}),Object(ee.jsx)($e,{options:[{name:"\u041c\u0443\u0436",value:"male"},{name:"\u0416\u0435\u043d",value:"female"},{name:"\u0414\u0440\u0443\u0433\u043e\u0435",value:"other"}],value:x.sex,onChangeHandle:_,name:"sex"}),Object(ee.jsx)(Je,{name:"qualities",options:q,onChangeHandle:_,label:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e",defaultValue:x.qualities,error:p.qualities}),Object(ee.jsx)("button",{type:"submit",className:"mt-3 align-self-end btn btn-primary",disabled:!R,children:"Submit"})]})})]})})};var rt=function(e){var t=e.image;return Object(ee.jsx)("img",{src:t,className:"rounded-circle shadow-1-strong me-3",alt:"avatar",width:"65",height:"65"})};function at(e){var t=e.userId,n=e.content,r=e.created_at,a=e.handleRemoveComment,s=e._id,c=Object(o.c)(Z(t)),i=Object(o.c)((function(e){return e.users.auth.userId}));return Object(ee.jsx)("div",{className:"bg-light card-body  mb-3",children:Object(ee.jsx)("div",{className:"row",children:Object(ee.jsx)("div",{className:"col",children:Object(ee.jsxs)("div",{className:"d-flex flex-start ",children:[Object(ee.jsx)(rt,{image:c.image}),Object(ee.jsx)("div",{className:"flex-grow-1 flex-shrink-1",children:Object(ee.jsxs)("div",{className:"mb-4",children:[Object(ee.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(ee.jsxs)("p",{className:"mb-1 ",children:[c.name,Object(ee.jsx)("span",{className:"small ms-3",children:Be(r)})]}),i===t&&Object(ee.jsx)("button",{className:"btn btn-sm text-primary d-flex align-items-center\r ",onClick:function(){return a(s)},children:Object(ee.jsx)("i",{className:"bi bi-x-lg"})})]}),Object(ee.jsx)("p",{className:"small mb-0",children:n})]})})]})})})})}var st=a.a.memo(at),ct="comment/",it={createComment:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post(ct,t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getComments:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(ct,{params:{orderBy:"pageId",equalTo:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteComment:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.delete(ct+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ot=Object(m.c)({name:"comments",initialState:{entities:[],isLoading:!0,error:null},reducers:{commentsServiceRequested:function(e,t){e.isLoading=!0},commentsRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},commentsRequestSuccess:function(e,t){e.entities=t.payload,e.isLoading=!1},newCommentCreated:function(e,t){e.entities.push(t.payload),e.isLoading=!1},commentDeleted:function(e,t){e.isLoading=!1,e.entities=e.entities.filter((function(e){return e._id!==t.payload}))}}}),ut=ot.actions,lt=ot.reducer,dt=Object(m.b)("comments/createCommentRequested"),jt=ut.commentsServiceRequested,bt=ut.commentsRequestFailed,mt=ut.commentsRequestSuccess,ft=ut.newCommentCreated,pt=ut.commentDeleted,Ot=lt;var ht=function(e){var t=e.commentsForUser,n=Object(o.b)(),r=Object(o.c)((function(e){return e.comments.isLoading})),a=function(e){var t;n((t=e,function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(jt()),e.prev=1,e.next=4,it.deleteComment(t);case 4:e.sent.content||n(pt(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(bt(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))};return r?Object(ee.jsx)("p",{children:"Loading...."}):0===t.length?Object(ee.jsx)("p",{children:"\u041d\u0438\u043a\u0442\u043e \u0435\u0449\u0435 \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438, \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u043c"}):Object(ee.jsx)(ee.Fragment,{children:t.map((function(e){return Object(ee.jsx)(st,Object(b.a)(Object(b.a)({},e),{},{handleRemoveComment:a}),e._id)}))})};var vt=function(e){var t=e.label,n=e.placeholder,r=e.name,a=e.onChangeHandle,s=e.value,c=e.rows,i=void 0===c?3:c,o=e.error;return Object(ee.jsxs)("div",{className:"my-3",children:[Object(ee.jsx)("label",{htmlFor:r,className:"mb-3",children:t}),Object(ee.jsxs)("div",{className:"form-floating ",children:[Object(ee.jsx)("textarea",{className:"".concat(o?"form-control p-1 is-invalid":"form-control p-1"," "),placeholder:n,id:r,style:{height:24*i+"px"},value:s,onChange:function(e){var t=e.target;a({name:t.id,value:t.value})}}),o&&Object(ee.jsx)("div",{className:"invalid-feedback text-danger",children:o})]})]})};function xt(e){var t=e.isLoading,n=e.handleSubmit,a=Object(r.useState)({}),s=Object(ae.a)(a,2),c=s[0],i=s[1],o=Object(r.useState)({content:""}),u=Object(ae.a)(o,2),l=u[0],d=u[1],j=function(){d({content:""}),i({})};Object(r.useEffect)((function(){!function(){var e=tt(l,et);i(e),Object.keys(e).length}()}),[l]);var m=0===Object.keys(c).length;return Object(ee.jsx)("div",{className:"card-body",children:Object(ee.jsxs)("form",{className:"d-flex flex-column needs-validation",onSubmit:function(e){e.preventDefault(),m&&(n(l),j())},children:[Object(ee.jsx)("h2",{children:"New Comment"}),Object(ee.jsx)(vt,{name:"content",label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",onChangeHandle:function(e){d((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(Ye.a)({},e.name,e.value))}))},placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 ...",value:l.content||"",error:c.content}),Object(ee.jsx)("button",{type:"submit",className:"mt-3 align-self-end btn btn-primary",disabled:!m||t,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})}var gt=a.a.memo(xt);var yt=function(e){var t=e.userId,n=Object(o.b)(),a=Object(o.c)((function(e){return e.comments.isLoading})),s=Object(o.c)((function(e){if(e.comments.entities)return e.comments.entities}));Object(r.useEffect)((function(){n(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(jt()),t.prev=1,t.next=4,it.getComments(e);case 4:r=t.sent,a=r.content,n(mt(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(bt(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]);var c=Object(se.orderBy)(s,["created_at"],["desc"]);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"card mb-2",children:Object(ee.jsx)(gt,{handleSubmit:function(e){var r;n((r=Object(b.a)({userId:t},e),function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,s,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(dt()),n=r.userId,a=r.content,s={content:a,pageId:n},e.prev=3,e.next=6,it.createComment(s);case 6:c=e.sent,i=c.content,t(ft(i)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t(bt(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()))},isLoading:a})}),Object(ee.jsx)("div",{className:"card mb-3",children:Object(ee.jsxs)("div",{className:"card-body ",children:[Object(ee.jsx)("h2",{children:"Comments"}),Object(ee.jsx)("hr",{}),Object(ee.jsx)(ht,{commentsForUser:c})]})})]})};var Nt=function(e){var t=e.completedMeetings;return Object(ee.jsx)("div",{className:"card mb-3",children:Object(ee.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center text-center",children:[Object(ee.jsx)("h5",{className:"card-title",children:Object(ee.jsx)("span",{children:"Completed meetings"})}),Object(ee.jsx)("h1",{className:"display-1",children:t})]})})};var kt=function(e){var t=e.qualities;return Object(ee.jsx)("div",{className:"card mb-3",children:Object(ee.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center text-center",children:[Object(ee.jsx)("h5",{className:"card-title",children:Object(ee.jsx)("span",{children:"Qualities"})}),Object(ee.jsx)("p",{className:"card-text",children:Object(ee.jsx)(ye,{qualities:t})}),Object(ee.jsx)("div",{})]})})};var wt=function(e){var t=e.name,n=e.rate,r=e.profession,a=e._id,s=e.image,c=Object(o.c)((function(e){return e.users.entities?e.users.entities.find((function(t){return t._id===e.users.auth.userId})):null}));return Object(ee.jsx)("div",{className:"card mb-3",children:Object(ee.jsxs)("div",{className:"card-body",children:[c._id===a&&Object(ee.jsx)(we.a,{to:{pathname:"/users/"+a+"/edit",state:e},children:Object(ee.jsx)("button",{className:"position-absolute top-0 end-0 btn btn-light btn-sm",children:Object(ee.jsx)("i",{className:"bi bi-gear"})})}),Object(ee.jsxs)("div",{className:"d-flex flex-column align-items-center text-center position-relative",children:[Object(ee.jsx)(rt,{image:s}),Object(ee.jsxs)("div",{className:"mt-3",children:[Object(ee.jsx)("h4",{children:t}),Object(ee.jsx)("p",{className:"text-secondary mb-1",children:r.name}),Object(ee.jsxs)("div",{className:"text-muted",children:[Object(ee.jsx)("i",{className:"bi bi-caret-down-fill text-primary",role:"button"}),Object(ee.jsx)("i",{className:"bi bi-caret-up text-secondary",role:"button"}),Object(ee.jsx)("span",{className:"ms-2",children:n})]})]})]})]})})},St=function(e){var t=e.userId,n=Object(o.c)(Z(t));return n?Object(ee.jsx)("div",{className:"container p-4",children:n&&Object(ee.jsxs)("div",{className:"row gutters-sm",children:[Object(ee.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(ee.jsx)(wt,Object(b.a)({},n)),n.qualities&&Object(ee.jsx)(kt,{qualities:n.qualities}),Object(ee.jsx)(Nt,Object(b.a)({},n))]}),Object(ee.jsx)("div",{className:"col-md-8 ",children:Object(ee.jsx)(yt,{userId:n._id})})]})}):Object(ee.jsx)(te,{})},Ct=function(){var e=Object(u.h)(),t=e.id,n=e.edit,r=Object(o.c)((function(e){return e.users.auth.userId}));return Object(ee.jsx)(ne,{children:t?n?t===r?Object(ee.jsx)(nt,{}):Object(ee.jsx)(u.a,{to:"".concat(F,"/").concat(r,"/edit")}):Object(ee.jsx)(St,{userId:t}):Object(ee.jsx)(ze,{})})};var qt=function(){var e=Object(o.c)((function(e){return e.users.entities?e.users.entities.find((function(t){return t._id===e.users.auth.userId})):null})),t=Object(r.useState)(!1),n=Object(ae.a)(t,2),a=n[0],s=n[1];return e?Object(ee.jsxs)("div",{className:"dropdown",onClick:function(){s((function(e){return!e}))},children:[Object(ee.jsxs)("div",{className:"btn dropdown-toggle d-flex align-items-center",children:[Object(ee.jsx)("div",{className:"me-3",children:e.name}),Object(ee.jsx)("img",{src:e.image,alt:"user image",height:"40",className:"img-responsive rounded-circle"})]}),Object(ee.jsxs)("div",{className:"w-100 dropdown-menu ".concat(a?"show":""),children:[Object(ee.jsx)(we.a,{to:"".concat(F,"/").concat(e._id),className:"dropdown-item",children:"Profile"}),Object(ee.jsx)(we.a,{to:R,className:"dropdown-item",children:"Log Out"})]})]}):Object(ee.jsx)(te,{})},_t=function(){var e=Object(o.c)((function(e){return e.users.isLoggedIn}));return Object(ee.jsx)("nav",{className:"navbar bg-light mb-3 ",children:Object(ee.jsxs)("div",{className:"container-fluid",children:[Object(ee.jsxs)("ul",{className:"nav",children:[Object(ee.jsx)("li",{className:"nav-item",children:Object(ee.jsx)(we.a,{className:"nav-link ",to:L,children:"Main"})}),e&&Object(ee.jsx)("li",{className:"nav-item",children:Object(ee.jsx)(we.a,{className:"nav-link",to:F,children:"Users"})})]}),Object(ee.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[e&&Object(ee.jsx)(qt,{}),!e&&Object(ee.jsx)(we.a,{className:"nav-link",to:I,children:"Login"})]})]})})};var Lt=function(e){var t=e.name,n=e.value,r=e.onChangeHandle,a=e.children,s=e.error;return Object(ee.jsxs)("div",{className:"form-check my-3",children:[Object(ee.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",checked:n,id:t,onChange:function(){r({name:t,value:!n})}}),Object(ee.jsx)("label",{className:"".concat(s?"form-check-label is-invalid":"form-check-label"," "),htmlFor:t,children:a}),s&&Object(ee.jsx)("div",{className:"invalid-feedback",children:s})]})};var It=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.users.error})),n=Object(r.useState)({email:"",password:"",stayOn:!1}),a=Object(ae.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)({}),u=Object(ae.a)(i,2),l=u[0],m=u[1],f=function(e){c((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(Ye.a)({},e.name,e.value))}))};Object(r.useEffect)((function(){w.b.error(t)}),[t]);var p={email:{isRequired:{message:"Email is required"}},password:{isRequired:{message:"Password is required"}}},O=function(){var e=tt(s,p);return m(e),0===Object.keys(e).length};Object(r.useEffect)((function(){return O(),function(){}}),[s]);var h=0===Object.keys(l).length;return Object(ee.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),O()){var n=H.location.state?H.location.state.from.pathname:L;e(function(e){var t=e.data,n=e.redirect;return function(){var e=Object(j.a)(d.a.mark((function e(r){var a,s,c,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,s=t.password,r($()),e.prev=2,e.next=5,k.login({email:a,password:s});case 5:c=e.sent,g.setToken(c),r(W({userId:c.userId})),H.push(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),i=e.t0.response.data.error,o=i.code,u=i.message,400===o?(l=P(u),r(z(l))):r(z(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}({data:s,redirect:n}))}},className:"d-flex flex-column",children:[Object(ee.jsx)("h3",{className:"mb-4",children:"Login"}),Object(ee.jsx)(Ge,{name:"email",value:s.email,onChangeHandle:f,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443",error:l.email}),Object(ee.jsx)(Ge,{name:"password",value:s.password,onChangeHandle:f,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",error:l.password}),Object(ee.jsx)(Lt,{name:"stayOn",value:s.stayOn,onChangeHandle:f,children:"\u041e\u0441\u0442\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"}),Object(ee.jsx)("button",{type:"submit",className:"mt-3 align-self-end btn btn-primary",disabled:!h,children:"Submit"})]})};var Rt=function(){var e=Object(r.useState)({email:"",name:"",password:"",profession:"",sex:"male",qualities:[],licence:!1}),t=Object(ae.a)(e,2),n=t[0],a=t[1],s=Object(o.b)(),c=Object(r.useState)({}),i=Object(ae.a)(c,2),u=i[0],l=i[1],m=Object(o.c)((function(e){return e.qualities.entities})).map((function(e){return{value:e._id,label:e.name}})),f=Object(o.c)((function(e){return e.professions.entities})),p=function(e){a((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(Ye.a)({},e.name,e.value))}))},O=function(){var e=tt(n,et);return l(e),0===Object.keys(e).length};Object(r.useEffect)((function(){O()}),[n]);var h=0===Object.keys(u).length;return Object(ee.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),O()){var t,r=Object(b.a)(Object(b.a)({},n),{},{qualities:n.qualities.map((function(e){return e.value}))});s((t=r,function(){var e=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(U()),e.prev=1,e.next=4,k.register(t);case 4:r=e.sent,g.setToken(r),n(W({userId:r.userId})),H.push(F),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(z(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}},className:"d-flex flex-column needs-validation",children:[Object(ee.jsx)("h3",{className:"mb-4",children:"Register"}),Object(ee.jsx)(Ge,{name:"name",value:n.name,onChangeHandle:p,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",error:u.name}),Object(ee.jsx)(Ge,{name:"email",value:n.email,onChangeHandle:p,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443",error:u.email}),Object(ee.jsx)(Ge,{name:"password",value:n.password,onChangeHandle:p,label:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",error:u.password}),Object(ee.jsx)(Xe,{onChangeHandle:p,options:f,label:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e",value:n.profession,defaultOption:"Choose...",name:"profession",error:u.profession}),Object(ee.jsx)($e,{options:[{name:"\u041c\u0443\u0436",value:"male"},{name:"\u0416\u0435\u043d",value:"female"},{name:"\u0414\u0440\u0443\u0433\u043e\u0435",value:"other"}],value:n.sex,onChangeHandle:p,name:"sex"}),Object(ee.jsx)(Je,{name:"qualities",options:m,onChangeHandle:p,label:"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(ee.jsx)(Lt,{name:"licence",value:n.licence,onChangeHandle:p,error:u.licence,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u0441 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0435\u0439"}),Object(ee.jsx)("button",{type:"submit",className:"mt-3 align-self-end btn btn-primary",disabled:!h,children:"Submit"})]})},Ft=function(){var e=Object(u.h)().type,t=Object(r.useState)("register"===e?e:"login"),n=Object(ae.a)(t,2),a=n[0],s=n[1],c=function(){s((function(e){return"register"===e?"login":"register"}))};return Object(ee.jsx)("div",{className:"container my-4",children:Object(ee.jsx)("div",{className:"row ",children:Object(ee.jsxs)("div",{className:"col-md-6  offset-md-3 shadow p-4",children:["register"===a&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Rt,{}),Object(ee.jsxs)("p",{children:["Registered?"," ",Object(ee.jsx)("a",{role:"button",className:"fw-bold",onClick:c,children:"Sign in"})]})]}),"register"!==a&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(It,{}),Object(ee.jsxs)("p",{children:["Dont have an account?"," ",Object(ee.jsx)("a",{role:"button",className:"fw-bold",onClick:c,children:"Sign up"})]})]})]})})})},Et=function(){return Object(ee.jsxs)("div",{className:"container mt-5",children:[Object(ee.jsx)("h1",{children:"Fast company social app"}),Object(ee.jsx)("p",{children:"Welcome to my pet project."}),Object(ee.jsx)("p",{children:"This is a very simple social app demo where you can find someone to hang around."}),Object(ee.jsx)("p",{children:"Please proceed to login."})]})},Ht=(n(97),["component","children"]);var Pt=function(e){var t=e.component,n=e.children,r=Object(oe.a)(e,Ht),a=Object(o.c)((function(e){return e.users.isLoggedIn}));return Object(ee.jsx)(u.b,Object(b.a)(Object(b.a)({},r),{},{render:function(e){return a?t?Object(ee.jsx)(t,Object(b.a)({},e)):n:Object(ee.jsx)(u.a,{to:{pathname:I,state:{from:e.location}}})}}))};var Tt=function(){var e=Object(o.b)();return Object(r.useEffect)((function(){e((function(e){g.removeAuthData(),e(Y()),H.push(L)}))}),[]),Object(ee.jsx)(te,{})},Dt=function(e){var t=e.children,n=Object(o.b)(),a=Object(o.c)((function(e){return e.users.isLoggedIn})),s=Object(o.c)((function(e){return e.users.isLoading}));return Object(r.useEffect)((function(){n(ve()),n(function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().professions.lastFetch,!je(r)){e.next=14;break}return t(Re()),e.prev=3,e.next=6,qe.get();case 6:a=e.sent,s=a.content,t(Ee(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t(Fe(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()),a&&n(Q())}),[a]),s?Object(ee.jsx)(te,{}):t},At=function(){return Object(ee.jsxs)(Dt,{children:[Object(ee.jsx)(_t,{}),Object(ee.jsx)("div",{className:"col-md-12",children:Object(ee.jsxs)(u.d,{children:[Object(ee.jsx)(Pt,{path:"/users/:id?/:edit?",component:Ct}),Object(ee.jsx)(u.b,{path:"/login/:type?",component:Ft}),Object(ee.jsx)(u.b,{path:R,component:Tt}),Object(ee.jsx)(u.b,{path:L,exact:!0,component:Et}),Object(ee.jsx)(u.a,{to:L})]})}),Object(ee.jsx)(w.a,{})]})},Bt=n(19),Ut=Object(Bt.b)({qualities:xe,professions:He,users:G,comments:Ot});var Mt=Object(m.a)({reducer:Ut});c.a.render(Object(ee.jsx)(a.a.StrictMode,{children:Object(ee.jsx)(o.a,{store:Mt,children:Object(ee.jsx)(u.c,{history:H,children:Object(ee.jsx)(At,{})})})}),document.getElementById("root")),i()}},[[98,1,2]]]);
//# sourceMappingURL=main.a6c7a147.chunk.js.map